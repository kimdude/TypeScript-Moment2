var m=Object.defineProperty;var f=(s,t,r)=>t in s?m(s,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):s[t]=r;var a=(s,t,r)=>f(s,typeof t!="symbol"?t+"":t,r);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))n(e);new MutationObserver(e=>{for(const o of e)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function r(e){const o={};return e.integrity&&(o.integrity=e.integrity),e.referrerPolicy&&(o.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?o.credentials="include":e.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(e){if(e.ep)return;e.ep=!0;const o=r(e);fetch(e.href,o)}})();class g{constructor(t,r,n){a(this,"task");a(this,"completed");a(this,"priority");this.task=t,this.completed=r,this.priority=n}}class h{constructor(){a(this,"toDos",[]);this.toDos=this.loadFromLocalStorage()}addToDo(t){return t.task&&t.priority?(this.toDos.push(t),!0):!1}markToDoCompleted(t){this.toDos[t].completed===!1?this.toDos[t].completed=!0:this.toDos[t].completed=!1}getToDos(){return this.toDos}saveToLocalStorage(){const t=JSON.stringify(this.toDos);localStorage.setItem("toDoList",t)}loadFromLocalStorage(){return JSON.parse(localStorage.getItem("toDoList")??"[]")}clearLocalStorage(){localStorage.clear(),this.toDos.length=0}}const L=document.getElementById("addItem"),u=document.getElementById("errorMessage"),y=document.getElementById("clearList"),i=new h;window.onload=()=>{const s=i.getToDos();l(s)};L.addEventListener("click",function(){D()});y.addEventListener("click",function(){i.clearLocalStorage(),l(i.getToDos())});function D(){const s=document.getElementById("toDoInput"),t=document.getElementById("priorityInput"),r=new g(s.value,!1,parseInt(t.value));if(i.addToDo(r)===!0){u.innerHTML="",s.value="";const e=i.getToDos();l(e)}else u.innerHTML="Beskriv uppgiften och välj en prioritetsgrad 1-3"}function l(s){const t=s.sort((e,o)=>e.priority-o.priority),r=document.getElementById("toDoList"),n=document.getElementById("finishedTasks");r.innerHTML="<h2>Att göra:<h1>",n.innerHTML="<h2>Avklarade idag:<h2>";for(let e=0;e<t.length;e++){const o=document.createElement("article");t[e].priority===1?o.classList.add("veryImportant"):t[e].priority===2&&o.classList.add("important");const c=t[e].task,p=document.createTextNode(c),d=document.createElement("button");d.addEventListener("click",function(){T(e)}),t[e].completed===!0?(d.classList.add("done"),n.appendChild(o)):r.appendChild(o),o.appendChild(p),o.appendChild(d)}i.saveToLocalStorage()}function T(s){i.markToDoCompleted(s),l(i.getToDos())}
